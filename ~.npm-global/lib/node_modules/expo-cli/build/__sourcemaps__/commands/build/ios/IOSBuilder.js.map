{"version":3,"sources":["commands/build/ios/IOSBuilder.js"],"names":["IOSBuilder","BaseBuilder","run","validateProject","checkForBuildInProgress","options","type","prepareCredentials","publishedExpIds","ensureProjectIsPublished","publicUrl","checkStatusBeforeBuild","build","bundleIdentifier","manifest","sdkVersion","validateIcon","XDLError","utils","checkIfSdkIsSupported","PLATFORMS","IOS","getAppleCtx","username","experienceName","appleCtx","apple","setup","authData","authenticate","owner","user","projectMetadata","slug","clearAndRevokeCredentialsIfRequested","existingCredentials","credentials","fetch","missingCredentials","determineMissingCredentials","produceMissingCredentials","clearCredentials","clearDistCert","clearPushKey","clearPushCert","clearProvisioningProfile","shouldClearAnything","credsToClear","clearCredentialsIfRequested","revokeCredentials","revoke","Object","keys","determineCredentialsToClear","clear","credsToClearAll","distributionCert","Boolean","pushKey","pushCert","provisioningProfile","metadata","includes","constants","PROVISIONING_PROFILE","DISTRIBUTION_CERT","distCertSerialNumber","getDistributionCertSerialNumber","userCredentialsIds","userProvidedCredentials","toGenerate","metadataFromPrompt","prompt","assign","generatedCredentials","generate","newCredentials","teamId","team","id","update","undefined","ensureReleaseExists","platform","icon","err"],"mappings":"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","file":"../../../../commands/build/ios/IOSBuilder.js","sourceRoot":"/expo-cli@3.5.0/src"}