{"version":3,"sources":["commands/eject/Eject.js"],"names":["EXPO_APP_ENTRY","warnIfDependenciesRequireAdditionalSetupAsync","projectRoot","exp","pkg","pkgJson","ProjectUtils","readConfigJsonAsync","pkgsWithExtraSetup","JsonFile","readAsync","ConfigUtils","resolveModule","packagesToWarn","Object","keys","dependencies","filter","pkgName","hasOwnProperty","length","plural","log","nested","chalk","yellow","bold","forEach","ejectAsync","options","reactNativeOptionMessage","questions","type","name","message","default","choices","value","short","ejectMethod","nonInteractiveHelp","ejectToBareAsync","green","newLine","packageManager","isUsingYarn","Detach","detachAsync","Error","useYarn","npmOrYarn","configPath","configName","findConfigFileAsync","appJson","JSON","parse","fse","readFile","Versions","gteSdkVersion","sdkMajorVersionNumber","semver","major","sdkVersion","templateSpec","pacote","manifest","e","code","displayName","getAppNamesAsync","expo","entryPoint","writeFile","path","resolve","stringify","defaultDependencies","defaultDevDependencies","tempDir","temporary","directory","Exp","extractTemplateAppAsync","copySync","join","packageJson","readJsonSync","devDependencies","red","process","exit","scripts","eject","start","ios","android","postinstall","warn","combinedDependencies","combinedDevDependencies","main","indexjs","grey","remove","PackageManager","createForProject","installAsync","validate","s","stripDashes","undefined","indexOf","ret","c"],"mappings":"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","file":"../../../commands/eject/Eject.js","sourceRoot":"/expo-cli@3.5.0/src"}